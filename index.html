<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-eval' https://cdn.jsdelivr.net;">
    <title>Circolo dei Cerchi</title>
    <link rel="stylesheet" href="/css/styles.css">
    <!-- Load Contentful SDK first -->
    <script src="https://cdn.jsdelivr.net/npm/contentful@latest/dist/contentful.browser.min.js"></script>
    <!-- Then load your configuration -->
    <script src="/js/init.js"></script>
    <!-- Then load your application code -->
    <script src="/js/featured-events.js" defer></script>
</head>
<body>
    <!-- Header/Navigation -->
    <header class="main-header">
        <div class="container">
            <a href="/" class="logo">
                <img src="//images.ctfassets.net/evaxoo3zkmhs/qLg1KL8BkxH2Hb3CH0PNo/c3a167c332b5ffb5292e412a288be4b4/logo_2.png" alt="Circolo dei Cerchi" class="header-logo">
                <img src="//images.ctfassets.net/evaxoo3zkmhs/2mlMi9zSd8HvfXT87ZcDEr/809a6953b67c75b74c520d657b951253/logo_1.png" alt="Circolo dei Cerchi" class="header-logo">
            </a>
            <button class="hamburger">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            <nav class="main-nav">
                <ul>
                    <li><a href="/info" class="nav-link">L'ASSOCIAZIONE</a></li>
                    <li><a href="/membership" class="nav-link">TESSERAMENTO</a></li>
                    <li><a href="/calendar" class="nav-link">CALENDARIO</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <section class="events-stream">
        </section>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <section class="footer-info">
                    <img src="//images.ctfassets.net/evaxoo3zkmhs/qLg1KL8BkxH2Hb3CH0PNo/c3a167c332b5ffb5292e412a288be4b4/logo_2.png" alt="Circolo dei Cerchi" class="footer-logo">
                    <img src="//images.ctfassets.net/evaxoo3zkmhs/2mlMi9zSd8HvfXT87ZcDEr/809a6953b67c75b74c520d657b951253/logo_1.png" alt="Circolo dei Cerchi" class="footer-logo">
                    <p>ASSOCIAZIONE CERCHI APS<br>Via dei Cerchi 75, 00186 Roma (RM)<br>C.F / P.IVA: 17822911008</p>
                </section>
            </div>
        </div>
    </footer>

    <script>
        // Initialize hamburger menu immediately and independently
        function initHamburgerMenu() {
            const hamburger = document.querySelector('.hamburger');
            const mainNav = document.querySelector('.main-nav');

            if (hamburger && mainNav) {
                console.log('Hamburger menu elements found'); // Debug log
                hamburger.addEventListener('click', (e) => {
                    console.log('Hamburger clicked'); // Debug log
                    e.preventDefault(); // Prevent any default behavior
                    e.stopPropagation(); // Stop event bubbling
                    hamburger.classList.toggle('active');
                    mainNav.classList.toggle('active');
                });

                // Close menu when clicking a link
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', () => {
                        hamburger.classList.remove('active');
                        mainNav.classList.remove('active');
                    });
                });
            } else {
                console.error('Hamburger menu elements not found'); // Debug log
            }
        }

        // Try to initialize immediately
        initHamburgerMenu();

        // Also try on DOMContentLoaded as a fallback
        document.addEventListener('DOMContentLoaded', initHamburgerMenu);

        // Final fallback - try again after a short delay
        setTimeout(initHamburgerMenu, 1000);
    </script>
</body>
</html>
